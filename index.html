<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆã‚«ãƒ¼ãƒ‰æœ€é©è¨ºæ–­ãƒ„ãƒ¼ãƒ« - ã‚ãªãŸã«ãƒ”ãƒƒã‚¿ãƒªãªã‚«ãƒ¼ãƒ‰ã‚’30ç§’ã§ç™ºè¦‹</title>
    <meta name="description" content="ãƒ©ã‚¤ãƒ•ã‚¹ã‚¿ã‚¤ãƒ«è¨ºæ–­ã§ã‚ãªãŸã«æœ€é©ãªã‚¯ãƒ¬ã‚¸ãƒƒãƒˆã‚«ãƒ¼ãƒ‰ã‚’ç„¡æ–™ã§è¦‹ã¤ã‘ã‚‰ã‚Œã¾ã™ã€‚å¹´ä¼šè²»ã€ãƒã‚¤ãƒ³ãƒˆé‚„å…ƒç‡ã€ç‰¹å…¸ã‚’æ¯”è¼ƒã—ã¦æœ€é©ãª1æšã‚’é¸ã¼ã†ã€‚">
    
    <!-- Google Tag Manager -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-TXQGZRF9');</script>
    <!-- End Google Tag Manager -->
    
    <!-- A8.net brandsafe.jsäº‹å‰èª­ã¿è¾¼ã¿ -->
    <script type='text/javascript' src='https://ad-verification.a8.net/ad/js/brandsafe.js'></script>
    <script type='text/javascript'>
        // A8.netã®ã‚¢ãƒ•ã‚£ãƒªã‚¨ã‚¤ãƒˆID
        const A8_AFFILIATE_ID = '457C4C+DEUKDU+38L8+BXQOH';
        const A8_SITE_ID = '1734';
        const A8_ARTICLE_ID = '658';
        const A8_LINK_ID = '2971';
        const A8_IMAGE_ID = '3218';
    </script>
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Hiragino Sans', 'Yu Gothic', sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            color: white;
            margin-bottom: 30px;
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .header p {
            font-size: 1.2rem;
            opacity: 0.9;
        }

        .card {
            background: white;
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            transform: translateY(0);
            transition: all 0.3s ease;
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(0,0,0,0.15);
        }

        .step {
            display: none;
        }

        .step.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .question h3 {
            color: #4a5568;
            margin-bottom: 20px;
            font-size: 1.3rem;
        }

        .options {
            display: grid;
            gap: 15px;
        }

        .option {
            padding: 15px 20px;
            border: 2px solid #e2e8f0;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            background: #f8fafc;
        }

        .option:hover {
            border-color: #667eea;
            background: #edf2f7;
            transform: translateX(5px);
        }

        .option.selected {
            border-color: #667eea;
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: #e2e8f0;
            border-radius: 4px;
            margin-bottom: 30px;
            overflow: hidden;
        }

        .progress {
            height: 100%;
            background: linear-gradient(90deg, #667eea, #764ba2);
            transition: width 0.3s ease;
            border-radius: 4px;
        }

        .btn {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1.1rem;
            font-weight: bold;
            transition: all 0.3s ease;
            margin: 10px 5px;
        }

        .btn:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        .btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .result-card {
            background: linear-gradient(135deg, #48bb78, #38a169);
            color: white;
            text-align: center;
        }

        .result-card h2 {
            font-size: 2rem;
            margin-bottom: 15px;
        }

        .card-recommendation {
            background: white;
            color: #333;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            border-left: 5px solid #667eea;
        }

        .card-name {
            font-size: 1.5rem;
            font-weight: bold;
            color: #667eea;
            margin-bottom: 10px;
        }

        .card-features {
            list-style: none;
            margin: 15px 0;
        }

        .card-features li {
            margin: 8px 0;
            padding-left: 20px;
            position: relative;
        }

        .card-features li:before {
            content: "âœ“";
            position: absolute;
            left: 0;
            color: #48bb78;
            font-weight: bold;
        }

        .affiliate-btn {
            background: linear-gradient(135deg, #f093fb, #f5576c);
            color: white;
            text-decoration: none;
            padding: 12px 25px;
            border-radius: 20px;
            display: inline-block;
            margin-top: 15px;
            transition: all 0.3s ease;
            font-weight: bold;
        }

        .affiliate-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(245, 87, 108, 0.4);
        }

        .steps-indicator {
            display: flex;
            justify-content: center;
            margin-bottom: 30px;
        }

        .step-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: rgba(255,255,255,0.3);
            margin: 0 5px;
            transition: all 0.3s ease;
        }

        .step-dot.active {
            background: white;
            transform: scale(1.3);
        }

        /* A8.netãƒãƒŠãƒ¼ç”¨ã‚¹ã‚¿ã‚¤ãƒ« */
        .a8-banner-area {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 10px;
            border: 1px solid #e9ecef;
            text-align: center;
            margin-top: 20px;
        }

        .a8-banner-area .banner-label {
            font-size: 0.9rem;
            color: #28a745;
            font-weight: bold;
            margin-bottom: 15px;
        }

        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            
            .header h1 {
                font-size: 2rem;
            }
            
            .card {
                padding: 20px;
            }
            
            .a8-banner-area {
                padding: 10px;
                margin: 15px 0;
            }
        }
    </style>
</head>
<body>
    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-TXQGZRF9"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->
    
    <div class="container">
        <div class="header">
            <h1>ğŸ’³ ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆã‚«ãƒ¼ãƒ‰æœ€é©è¨ºæ–­</h1>
            <p>ã‚ãªãŸã®ãƒ©ã‚¤ãƒ•ã‚¹ã‚¿ã‚¤ãƒ«ã«æœ€é©ãªã‚¯ãƒ¬ã‚¸ãƒƒãƒˆã‚«ãƒ¼ãƒ‰ã‚’30ç§’ã§ç™ºè¦‹</p>
        </div>

        <div class="steps-indicator">
            <div class="step-dot active"></div>
            <div class="step-dot"></div>
            <div class="step-dot"></div>
            <div class="step-dot"></div>
            <div class="step-dot"></div>
        </div>

        <div class="card">
            <div class="progress-bar">
                <div class="progress" id="progress"></div>
            </div>

            <!-- Step 1: å¹´é½¢å±¤ -->
            <div class="step active" id="step1">
                <div class="question">
                    <h3>ğŸ‚ å¹´é½¢å±¤ã‚’æ•™ãˆã¦ãã ã•ã„</h3>
                    <div class="options">
                        <div class="option" data-value="student">18-25æ­³ï¼ˆå­¦ç”Ÿãƒ»æ–°ç¤¾ä¼šäººï¼‰</div>
                        <div class="option" data-value="young">26-35æ­³ï¼ˆåƒãç››ã‚Šä¸–ä»£ï¼‰</div>
                        <div class="option" data-value="middle">36-50æ­³ï¼ˆãƒ•ã‚¡ãƒŸãƒªãƒ¼ä¸–ä»£ï¼‰</div>
                        <div class="option" data-value="senior">51æ­³ä»¥ä¸Šï¼ˆã‚·ãƒ‹ã‚¢ä¸–ä»£ï¼‰</div>
                    </div>
                </div>
            </div>

            <!-- Step 2: ä¸»ãªåˆ©ç”¨å ´é¢ -->
            <div class="step" id="step2">
                <div class="question">
                    <h3>ğŸ›ï¸ ä¸»ã«ã©ã“ã§ã‚«ãƒ¼ãƒ‰ã‚’ä½¿ã„ã¾ã™ã‹ï¼Ÿ</h3>
                    <div class="options">
                        <div class="option" data-value="online">ãƒãƒƒãƒˆã‚·ãƒ§ãƒƒãƒ”ãƒ³ã‚°ä¸­å¿ƒ</div>
                        <div class="option" data-value="retail">ã‚³ãƒ³ãƒ“ãƒ‹ãƒ»ã‚¹ãƒ¼ãƒ‘ãƒ¼ä¸­å¿ƒ</div>
                        <div class="option" data-value="travel">å‡ºå¼µãƒ»æ—…è¡Œã§ã®åˆ©ç”¨ãŒå¤šã„</div>
                        <div class="option" data-value="dining">ãƒ¬ã‚¹ãƒˆãƒ©ãƒ³ãƒ»é£²é£Ÿåº—ä¸­å¿ƒ</div>
                    </div>
                </div>
            </div>

            <!-- Step 3: æœˆé–“åˆ©ç”¨é¡ -->
            <div class="step" id="step3">
                <div class="question">
                    <h3>ğŸ’° æœˆé–“ã®ã‚«ãƒ¼ãƒ‰åˆ©ç”¨é¡ã¯ã©ã®ãã‚‰ã„ã§ã™ã‹ï¼Ÿ</h3>
                    <div class="options">
                        <div class="option" data-value="low">1-3ä¸‡å††</div>
                        <div class="option" data-value="medium">3-10ä¸‡å††</div>
                        <div class="option" data-value="high">10-30ä¸‡å††</div>
                        <div class="option" data-value="premium">30ä¸‡å††ä»¥ä¸Š</div>
                    </div>
                </div>
            </div>

            <!-- Step 4: é‡è¦–ã™ã‚‹ãƒã‚¤ãƒ³ãƒˆ -->
            <div class="step" id="step4">
                <div class="question">
                    <h3>â­ æœ€ã‚‚é‡è¦–ã™ã‚‹ã®ã¯ã©ã‚Œã§ã™ã‹ï¼Ÿ</h3>
                    <div class="options">
                        <div class="option" data-value="cashback">ãƒã‚¤ãƒ³ãƒˆé‚„å…ƒç‡ã®é«˜ã•</div>
                        <div class="option" data-value="nofee">å¹´ä¼šè²»ç„¡æ–™</div>
                        <div class="option" data-value="benefits">ä»˜å¸¯ã‚µãƒ¼ãƒ“ã‚¹ãƒ»ç‰¹å…¸</div>
                        <div class="option" data-value="brand">ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒ»ãƒ–ãƒ©ãƒ³ãƒ‰åŠ›</div>
                    </div>
                </div>
            </div>

            <!-- Step 5: ãƒ©ã‚¤ãƒ•ã‚¹ã‚¿ã‚¤ãƒ« -->
            <div class="step" id="step5">
                <div class="question">
                    <h3>ğŸŒŸ ã‚ãªãŸã®ãƒ©ã‚¤ãƒ•ã‚¹ã‚¿ã‚¤ãƒ«ã¯ï¼Ÿ</h3>
                    <div class="options">
                        <div class="option" data-value="simple">ã‚·ãƒ³ãƒ—ãƒ«ãƒ»ç¯€ç´„å¿—å‘</div>
                        <div class="option" data-value="active">ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãƒ»å¤–å‡ºå¤šã‚</div>
                        <div class="option" data-value="family">å®¶æ—é‡è¦–ãƒ»å®Ÿç”¨æ€§é‡è¦–</div>
                        <div class="option" data-value="luxury">å“è³ªãƒ»ã‚µãƒ¼ãƒ“ã‚¹é‡è¦–</div>
                    </div>
                </div>
            </div>

            <!-- çµæœè¡¨ç¤º -->
            <div class="step" id="result">
                <div class="result-card">
                    <h2>ğŸ‰ è¨ºæ–­çµæœ</h2>
                    <p>ã‚ãªãŸã«ãƒ”ãƒƒã‚¿ãƒªã®ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆã‚«ãƒ¼ãƒ‰ãŒè¦‹ã¤ã‹ã‚Šã¾ã—ãŸï¼</p>
                    
                    <div id="recommendation"></div>
                    
                    <button class="btn" onclick="restart()">ã‚‚ã†ä¸€åº¦è¨ºæ–­ã™ã‚‹</button>
                </div>
            </div>

            <div style="text-align: center; margin-top: 20px;">
                <button class="btn" id="nextBtn" onclick="nextStep()" disabled>æ¬¡ã¸</button>
                <button class="btn" id="prevBtn" onclick="prevStep()" style="display: none;">æˆ»ã‚‹</button>
            </div>
        </div>
    </div>

    <script>
        let currentStep = 1;
        let answers = {};
        const totalSteps = 5;

        // ã‚«ãƒ¼ãƒ‰ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹
        const cardDatabase = {
            rakuten: {
                name: "æ¥½å¤©ã‚«ãƒ¼ãƒ‰",
                features: [
                    "å¹´ä¼šè²»æ°¸å¹´ç„¡æ–™",
                    "æ¥½å¤©å¸‚å ´ã§é‚„å…ƒç‡3%",
                    "åŸºæœ¬é‚„å…ƒç‡1%",
                    "æ¥½å¤©ãƒã‚¤ãƒ³ãƒˆãŒè²¯ã¾ã‚‹ãƒ»ä½¿ãˆã‚‹",
                    "æµ·å¤–æ—…è¡Œå‚·å®³ä¿é™ºä»˜å¸¯"
                ],
                affiliate: "https://card.rakuten.co.jp/",
                description: "ãƒãƒƒãƒˆã‚·ãƒ§ãƒƒãƒ”ãƒ³ã‚°ã¨æ—¥å¸¸ä½¿ã„ã®ä¸¡æ–¹ã§ãŠå¾—ï¼"
            },
            epos: {
                name: "ã‚¨ãƒã‚¹ã‚«ãƒ¼ãƒ‰",
                features: [
                    "å¹´ä¼šè²»æ°¸å¹´ç„¡æ–™",
                    "å…¨å›½10,000åº—èˆ—ã§å„ªå¾…",
                    "æµ·å¤–æ—…è¡Œå‚·å®³ä¿é™ºè‡ªå‹•ä»˜å¸¯",
                    "ãƒãƒ«ã‚¤ã§å¹´4å›10%OFF",
                    "å³æ—¥ç™ºè¡Œå¯èƒ½"
                ],
                affiliate: "a8_epos_banner",
                description: "ç‰¹å…¸ã¨å„ªå¾…ãŒå……å®Ÿã€æ—…è¡Œã«ã‚‚å®‰å¿ƒï¼"
            },
            mitsui: {
                name: "ä¸‰äº•ä½å‹ã‚«ãƒ¼ãƒ‰(NL)",
                features: [
                    "å¹´ä¼šè²»æ°¸å¹´ç„¡æ–™",
                    "ã‚³ãƒ³ãƒ“ãƒ‹ãƒ»ãƒã‚¯ãƒ‰ãƒŠãƒ«ãƒ‰ã§æœ€å¤§5%é‚„å…ƒ",
                    "ãƒŠãƒ³ãƒãƒ¼ãƒ¬ã‚¹ã§å®‰å¿ƒ",
                    "ã‚¿ãƒƒãƒæ±ºæ¸ˆå¯¾å¿œ",
                    "æœ€çŸ­5åˆ†ã§ã‚«ãƒ¼ãƒ‰ç•ªå·ç™ºè¡Œ"
                ],
                affiliate: "https://www.smbc-card.com/",
                description: "ã‚³ãƒ³ãƒ“ãƒ‹åˆ©ç”¨ãŒå¤šã„æ–¹ã«æœ€é©ï¼"
            },
            jcb: {
                name: "JCB CARD W",
                features: [
                    "å¹´ä¼šè²»æ°¸å¹´ç„¡æ–™ï¼ˆ39æ­³ä»¥ä¸‹é™å®šï¼‰",
                    "åŸºæœ¬é‚„å…ƒç‡1%",
                    "Amazonã§é‚„å…ƒç‡2%",
                    "ã‚¹ã‚¿ãƒ¼ãƒãƒƒã‚¯ã‚¹ã§5.5%é‚„å…ƒ",
                    "æµ·å¤–æ—…è¡Œå‚·å®³ä¿é™ºä»˜å¸¯"
                ],
                affiliate: "https://www.jcb.co.jp/",
                description: "è‹¥ã„ä¸–ä»£ã«ãŠã™ã™ã‚ã®é«˜é‚„å…ƒã‚«ãƒ¼ãƒ‰ï¼"
            },
            recruit: {
                name: "ãƒªã‚¯ãƒ«ãƒ¼ãƒˆã‚«ãƒ¼ãƒ‰",
                features: [
                    "å¹´ä¼šè²»æ°¸å¹´ç„¡æ–™",
                    "åŸºæœ¬é‚„å…ƒç‡1.2%",
                    "ãƒªã‚¯ãƒ«ãƒ¼ãƒˆã‚µãƒ¼ãƒ“ã‚¹ã§æœ€å¤§4.2%",
                    "é›»å­ãƒãƒãƒ¼ãƒãƒ£ãƒ¼ã‚¸ã§ã‚‚ãƒã‚¤ãƒ³ãƒˆ",
                    "æµ·å¤–ãƒ»å›½å†…æ—…è¡Œå‚·å®³ä¿é™ºä»˜å¸¯"
                ],
                affiliate: "https://recruit-card.jp/",
                description: "æ¥­ç•Œæœ€é«˜æ°´æº–ã®é‚„å…ƒç‡ï¼"
            },
            gold: {
                name: "ä¸‰äº•ä½å‹ã‚«ãƒ¼ãƒ‰ ã‚´ãƒ¼ãƒ«ãƒ‰(NL)",
                features: [
                    "å¹´é–“100ä¸‡å††åˆ©ç”¨ã§å¹´ä¼šè²»æ°¸å¹´ç„¡æ–™",
                    "ç©ºæ¸¯ãƒ©ã‚¦ãƒ³ã‚¸ç„¡æ–™åˆ©ç”¨",
                    "æœ€é«˜2,000ä¸‡å††ã®æ—…è¡Œå‚·å®³ä¿é™º",
                    "ã‚³ãƒ³ãƒ“ãƒ‹ãƒ»ãƒã‚¯ãƒ‰ãƒŠãƒ«ãƒ‰ã§æœ€å¤§5%é‚„å…ƒ",
                    "ã‚´ãƒ¼ãƒ«ãƒ‰ã‚«ãƒ¼ãƒ‰é™å®šç‰¹å…¸"
                ],
                affiliate: "https://www.smbc-card.com/",
                description: "ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã¨å®Ÿç”¨æ€§ã‚’å…¼ã­å‚™ãˆãŸã‚´ãƒ¼ãƒ«ãƒ‰ã‚«ãƒ¼ãƒ‰ï¼"
            }
        };

        function selectOption(element) {
            // åŒã˜ã‚¹ãƒ†ãƒƒãƒ—å†…ã®ä»–ã®é¸æŠè‚¢ã‚’éé¸æŠã«ã™ã‚‹
            const options = element.parentElement.querySelectorAll('.option');
            options.forEach(opt => opt.classList.remove('selected'));
            
            // é¸æŠã•ã‚ŒãŸé¸æŠè‚¢ã‚’ãƒãƒ¼ã‚¯
            element.classList.add('selected');
            
            // ç­”ãˆã‚’ä¿å­˜
            const stepNumber = document.querySelector('.step.active').id.replace('step', '');
            answers[stepNumber] = element.dataset.value;
            
            // æ¬¡ã¸ãƒœã‚¿ãƒ³ã‚’æœ‰åŠ¹åŒ–
            document.getElementById('nextBtn').disabled = false;
        }

        function nextStep() {
            if (currentStep < totalSteps) {
                // ç¾åœ¨ã®ã‚¹ãƒ†ãƒƒãƒ—ã‚’éè¡¨ç¤º
                document.getElementById(`step${currentStep}`).classList.remove('active');
                
                // æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—ã‚’è¡¨ç¤º
                currentStep++;
                document.getElementById(`step${currentStep}`).classList.add('active');
                
                // ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ãƒãƒ¼ã‚’æ›´æ–°
                updateProgress();
                
                // ãƒœã‚¿ãƒ³ã®çŠ¶æ…‹ã‚’æ›´æ–°
                updateButtons();
                
                // ã‚¹ãƒ†ãƒƒãƒ—ã‚¤ãƒ³ã‚¸ã‚±ãƒ¼ã‚¿ãƒ¼ã‚’æ›´æ–°
                updateStepIndicator();
            } else {
                // è¨ºæ–­å®Œäº†ã€çµæœã‚’è¡¨ç¤º
                showResult();
            }
        }

        function prevStep() {
            if (currentStep > 1) {
                document.getElementById(`step${currentStep}`).classList.remove('active');
                currentStep--;
                document.getElementById(`step${currentStep}`).classList.add('active');
                
                updateProgress();
                updateButtons();
                updateStepIndicator();
            }
        }

        function updateProgress() {
            const progress = (currentStep / totalSteps) * 100;
            document.getElementById('progress').style.width = `${progress}%`;
        }

        function updateButtons() {
            const nextBtn = document.getElementById('nextBtn');
            const prevBtn = document.getElementById('prevBtn');
            
            if (currentStep === 1) {
                prevBtn.style.display = 'none';
            } else {
                prevBtn.style.display = 'inline-block';
            }
            
            // ç¾åœ¨ã®ã‚¹ãƒ†ãƒƒãƒ—ã§é¸æŠã•ã‚Œã¦ã„ã‚‹ã‹ãƒã‚§ãƒƒã‚¯
            const currentStepElement = document.getElementById(`step${currentStep}`);
            const selectedOption = currentStepElement.querySelector('.option.selected');
            nextBtn.disabled = !selectedOption;
            
            if (currentStep === totalSteps) {
                nextBtn.textContent = 'è¨ºæ–­çµæœã‚’è¦‹ã‚‹';
            } else {
                nextBtn.textContent = 'æ¬¡ã¸';
            }
        }

        function updateStepIndicator() {
            const dots = document.querySelectorAll('.step-dot');
            dots.forEach((dot, index) => {
                if (index < currentStep) {
                    dot.classList.add('active');
                } else {
                    dot.classList.remove('active');
                }
            });
        }

        function showResult() {
            // å…¨ã‚¹ãƒ†ãƒƒãƒ—ã‚’éè¡¨ç¤º
            for (let i = 1; i <= totalSteps; i++) {
                document.getElementById(`step${i}`).classList.remove('active');
            }
            
            // ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ãƒãƒ¼ã‚’100%ã«
            document.getElementById('progress').style.width = '100%';
            
            // ãƒœã‚¿ãƒ³ã‚’éè¡¨ç¤º
            document.getElementById('nextBtn').style.display = 'none';
            document.getElementById('prevBtn').style.display = 'none';
            
            // çµæœã‚’è¡¨ç¤º
            document.getElementById('result').classList.add('active');
            
            // ãŠã™ã™ã‚ã‚«ãƒ¼ãƒ‰ã‚’æ±ºå®š
            const recommendedCard = getRecommendation();
            displayRecommendation(recommendedCard);
        }

        function getRecommendation() {
            const { 1: age, 2: usage, 3: amount, 4: priority, 5: lifestyle } = answers;
            
            // è¨ºæ–­ãƒ­ã‚¸ãƒƒã‚¯
            if (age === 'student' && priority === 'nofee') {
                return 'rakuten';
            } else if (usage === 'retail' && amount === 'medium') {
                return 'mitsui';
            } else if (age === 'young' && usage === 'online') {
                return 'jcb';
            } else if (usage === 'travel' || lifestyle === 'active') {
                return 'epos';
            } else if (amount === 'premium' || priority === 'brand') {
                return 'gold';
            } else if (priority === 'cashback') {
                return 'recruit';
            } else {
                return 'rakuten'; // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ
            }
        }

        function displayRecommendation(cardKey) {
            const card = cardDatabase[cardKey];
            const recommendationDiv = document.getElementById('recommendation');
            
            let affiliateButton = '';
            
            if (cardKey === 'epos') {
                // ã‚¨ãƒã‚¹ã‚«ãƒ¼ãƒ‰ã®å ´åˆã¯A8.netãƒãƒŠãƒ¼ã‚³ãƒ¼ãƒ‰
                affiliateButton = '<div class="a8-banner-area">' +
                    '<div class="banner-label">ğŸ¯ è¨ºæ–­çµæœã«åŸºã¥ããŠã™ã™ã‚ã‚«ãƒ¼ãƒ‰</div>' +
                    '<div id="a8-epos-banner-container">' +
                        '<div id="div_admane_async_' + A8_SITE_ID + '_' + A8_ARTICLE_ID + '_' + A8_LINK_ID + '"></div>' +
                        '<img border="0" width="1" height="1" src="https://www10.a8.net/0.gif?a8mat=' + A8_AFFILIATE_ID + '" alt="">' +
                    '</div>' +
                    '</div>';
            } else {
                // ä»–ã®ã‚«ãƒ¼ãƒ‰ã¯é€šå¸¸ã®ãƒœã‚¿ãƒ³
                affiliateButton = '<a href="' + card.affiliate + '" class="affiliate-btn" target="_blank" rel="noopener">' +
                    'ğŸ“ ä»Šã™ãç”³ã—è¾¼ã‚€' +
                    '</a>';
            }
            
            recommendationDiv.innerHTML = 
                '<div class="card-recommendation">' +
                    '<div class="card-name">' + card.name + '</div>' +
                    '<p>' + card.description + '</p>' +
                    '<ul class="card-features">' +
                        card.features.map(function(feature) {
                            return '<li>' + feature + '</li>';
                        }).join('') +
                    '</ul>' +
                    affiliateButton +
                '</div>';
            
            // ã‚¨ãƒã‚¹ã‚«ãƒ¼ãƒ‰ã®å ´åˆã€A8.netãƒãƒŠãƒ¼ã‚³ãƒ¼ãƒ‰ã‚’å®Ÿè¡Œ
            if (cardKey === 'epos') {
                let bannerLoaded = false;
                
                // ãƒãƒŠãƒ¼èª­ã¿è¾¼ã¿ç”¨ã®é–¢æ•°
                function loadA8Banner() {
                    if (bannerLoaded) return; // æ—¢ã«ãƒãƒŠãƒ¼ãŒèª­ã¿è¾¼ã¾ã‚Œã¦ã„ã‚‹å ´åˆã¯ä½•ã‚‚ã—ãªã„
                    
                    if (typeof brandsafe_js_async === 'function') {
                        try {
                            brandsafe_js_async(
                                '//ad-verification.a8.net/ad',
                                '_site=' + A8_SITE_ID + '&_article=' + A8_ARTICLE_ID + '&_link=' + A8_LINK_ID + '&_image=' + A8_IMAGE_ID + '&_ns=1&sad=s00000015110002',
                                '250605084811',
                                A8_AFFILIATE_ID
                            );
                            bannerLoaded = true;
                            console.log('A8.net banner loaded successfully');
                        } catch (error) {
                            console.error('A8.net banner loading error:', error);
                            if (!bannerLoaded) {
                                showFallbackLink();
                            }
                        }
                    } else {
                        console.warn('brandsafe_js_async function not available');
                        if (!bannerLoaded) {
                            showFallbackLink();
                        }
                    }
                }

                // ãƒãƒŠãƒ¼ã®èª­ã¿è¾¼ã¿ã‚’è©¦ã¿ã‚‹
                setTimeout(loadA8Banner, 500);
                // ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã¨ã—ã¦1ç§’å¾Œã«ã‚‚ã†ä¸€åº¦è©¦ã¿ã‚‹
                setTimeout(loadA8Banner, 1000);
            }
        }
        
        // A8.netãƒãƒŠãƒ¼ãŒè¡¨ç¤ºã•ã‚Œãªã„å ´åˆã®ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯
        function showFallbackLink() {
            const container = document.getElementById('a8-epos-banner-container');
            if (container) {
                container.innerHTML = 
                    '<div style="text-align: center; padding: 20px; background: #f0f8ff; border: 2px solid #4169e1; border-radius: 10px;">' +
                        '<p style="margin: 0 0 15px 0; color: #4169e1; font-weight: bold;">ğŸ¯ ã‚¨ãƒã‚¹ã‚«ãƒ¼ãƒ‰ç”³ã—è¾¼ã¿ã¯ã“ã¡ã‚‰</p>' +
                        '<a href="https://www.eposcard.co.jp/apply/?scid=wi_ich_cc_apply&sc2id=' + A8_AFFILIATE_ID + '" target="_blank" rel="noopener" class="affiliate-btn" style="background: linear-gradient(135deg, #ff6b6b, #ee5a24);">' +
                            'ğŸ“ ã‚¨ãƒã‚¹ã‚«ãƒ¼ãƒ‰å…¬å¼ã‚µã‚¤ãƒˆã¸' +
                        '</a>' +
                        '<p style="margin: 15px 0 0 0; font-size: 0.8rem; color: #666;">â€» å¹´ä¼šè²»æ°¸å¹´ç„¡æ–™ãƒ»å³æ—¥ç™ºè¡Œå¯èƒ½</p>' +
                    '</div>';
            }
        }

        function restart() {
            currentStep = 1;
            answers = {};
            
            // å…¨ã‚¹ãƒ†ãƒƒãƒ—ã‚’éè¡¨ç¤º
            document.querySelectorAll('.step').forEach(step => step.classList.remove('active'));
            
            // æœ€åˆã®ã‚¹ãƒ†ãƒƒãƒ—ã‚’è¡¨ç¤º
            document.getElementById('step1').classList.add('active');
            
            // é¸æŠã‚’ãƒªã‚»ãƒƒãƒˆ
            document.querySelectorAll('.option').forEach(option => option.classList.remove('selected'));
            
            // ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ãƒãƒ¼ã‚’ãƒªã‚»ãƒƒãƒˆ
            updateProgress();
            
            // ãƒœã‚¿ãƒ³ã‚’ãƒªã‚»ãƒƒãƒˆ
            document.getElementById('nextBtn').style.display = 'inline-block';
            document.getElementById('nextBtn').textContent = 'æ¬¡ã¸';
            updateButtons();
            
            // ã‚¹ãƒ†ãƒƒãƒ—ã‚¤ãƒ³ã‚¸ã‚±ãƒ¼ã‚¿ãƒ¼ã‚’ãƒªã‚»ãƒƒãƒˆ
            updateStepIndicator();
        }

        // ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼ã‚’è¿½åŠ 
        document.addEventListener('click', function(e) {
            if (e.target.classList.contains('option')) {
                selectOption(e.target);
            }
        });

        // åˆæœŸåŒ–
        updateProgress();
        updateButtons();
    </script>
</body>
</html>